<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy New Year 2025</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: url("https://example.com/new-year-background.jpg") no-repeat
          center center fixed;
        background-size: cover;
        color: #fff;
        text-align: center;
        font-family: "Arial", sans-serif;
      }
      h1 {
        font-size: 4rem;
        margin-top: 20px;
        animation: fadeIn 2s ease-in-out;
      }
      p {
        font-size: 1.5rem;
        margin: 20px 0;
        animation: popIn 1.5s ease-in-out;
      }
      .balloon {
        position: absolute;
        bottom: -100px;
        width: 50px;
        height: 80px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        animation: float 6s infinite ease-in-out;
      }
      @keyframes float {
        0% {
          transform: translateY(0) translateX(0);
        }
        50% {
          transform: translateY(-400px) translateX(20px);
        }
        100% {
          transform: translateY(0) translateX(-20px);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes popIn {
        from {
          transform: scale(0.5);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }
      .message {
        font-size: 1.8rem;
        font-style: italic;
        margin-top: 30px;
        animation: fadeIn 2s ease-in-out 1s;
      }
      .popup {
        background: rgba(0, 0, 0, 0.7);
        border-radius: 10px;
        padding: 20px;
        color: #fff;
        font-size: 1.2rem;
        animation: popIn 1.5s ease-in-out;
        display: inline-block;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <div
      class="container d-flex flex-column justify-content-center align-items-center h-100"
    >
      <h1 id="greeting">नया साल 2025 की शुभकामनाएं!</h1>
      <p class="countdown" id="timer"></p>
      <p id="dynamic-message" class="message">
        प्यार, शांति और खुशी से भरपूर एक शानदार नया साल!
      </p>
      <p>आपके लिए: <span id="username">Fetching...</span></p>
      <div class="popup">
        भगवान राम आप पर कृपा करें और आपका 2025 खुशहाल और आनंदमय बनाएं।
      </div>
    </div>

    <!-- Balloons -->
    <div class="balloon" style="left: 10%; animation-delay: 0s"></div>
    <div class="balloon" style="left: 30%; animation-delay: 1s"></div>
    <div class="balloon" style="left: 50%; animation-delay: 2s"></div>
    <div class="balloon" style="left: 70%; animation-delay: 3s"></div>
    <div class="balloon" style="left: 90%; animation-delay: 4s"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module">
      // Firebase Configuration
      const firebaseConfig = {
        apiKey: "YOUR_FIREBASE_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_SENDER_ID",
        appId: "YOUR_APP_ID",
      };

      // Firebase Setup
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
      import {
        getDatabase,
        ref,
        get,
      } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Fetch user from Firebase
      const urlParams = new URLSearchParams(window.location.search);
      const userId = urlParams.get("user1") || "Guest";

      const usernameElement = document.getElementById("username");

      get(ref(db, `users/${userId}`))
        .then((snapshot) => {
          if (snapshot.exists()) {
            usernameElement.textContent = snapshot.val().name;
          } else {
            usernameElement.textContent = "Guest";
          }
        })
        .catch((error) => {
          console.error(error);
          usernameElement.textContent = "Guest";
        });

      // Countdown Timer to Midnight
      function updateTimer() {
        const now = new Date();
        const newYear = new Date("2025-01-01T00:00:00");
        const diff = newYear - now;

        if (diff <= 0) {
          document.getElementById("timer").textContent = "नया साल मुबारक हो!";
          return;
        }

        const hours = Math.floor(diff / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById(
          "timer"
        ).textContent = `नए साल तक का समय: ${hours} घंटे ${minutes} मिनट ${seconds} सेकंड`;
        setTimeout(updateTimer, 1000);
      }

      updateTimer();

      // Dynamic Hindi Messages
      const messages = [
        "आपका नया साल प्यार, शांति और खुशियों से भरा हो।",
        "भगवान राम की कृपा आप पर बनी रहे।",
        "नए साल में आपके सभी सपने सच हों।",
        "आपके जीवन में सफलता और समृद्धि बनी रहे।",
      ];

      function updateMessage() {
        const messageElement = document.getElementById("dynamic-message");
        const randomIndex = Math.floor(Math.random() * messages.length);
        messageElement.textContent = messages[randomIndex];
        setTimeout(updateMessage, 5000);
      }

      updateMessage();
    </script>
  </body>
</html>
